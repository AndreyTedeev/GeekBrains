<meta charset="utf-8" />
<script type="text/javascript">
    /*
        ТЕДЕЕВ АНДРЕЙ
        17.08.2020

        3. Доработать игру в загадки:
        a. Избавиться в игре в загадки от дублирования кода, используя массивы и функции.
        b. Сделать так, чтобы программа поддерживала несколько правильных ответов на один и тот же вопрос. 
        Все возможные варианты задаются программистом в коде программы.

    */

    var riddles = [
        "Не ездок, а со шпорами, не сторож, а всех будит.",
        "По горам, по долам ходит шуба да кафтан.",
        "Зелёные глаза — всем мышам гроза.",
        "Два конца, два кольца, Посредине гвоздик."
    ];

    var answers = [
        ["петух"],
        ["овца", "баран", "овечка"],
        ["кошка", "кот"],
        ["ножницы"]
    ];

    var results = [
        false, 
        false, 
        false, 
        false
    ];

    var message = "Поиграем в загадки! Их будет " + riddles.length + " ... :)\n";
    var totals = 0;

    for (var i = 0; i < riddles.length; i++) {

        // Загадываем загадку и приводим ответ в нижний регистр
        // чтобы сравнивать с ответами 
        // Например : Овца, овца, овЦА - все правильные ответы
        var answer = prompt( message + (i+1) + ". " + riddles[i] ).toLowerCase();

        // Правильных ответов может быть несколько
        // Например : "кошка", "кот"
        for (var j = 0; j < answers[i].length; j++) {
            if (answer == answers[i][j]) {
                results[i] = true;
                totals++;
                break;
            }
        }

        message = (results[i]) ? ":) Верно! Поздравляю!" : ":( Жаль, Не угадали.";
        message += "\n";

    }

    if (totals == riddles.length)
        message = "Поздравляю! Вы ответили верно на все загадки.";
    else if (totals == 0)
        message = "Сожалею! Вы ни разу не угадали.";
    else
        message = "Неплохо! Правильных ответов : " + totals;

    alert(message);


</script>